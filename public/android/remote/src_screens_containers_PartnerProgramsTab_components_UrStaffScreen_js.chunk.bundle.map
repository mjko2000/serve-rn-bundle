{"version":3,"file":"src_screens_containers_PartnerProgramsTab_components_UrStaffScreen_js.chunk.bundle","mappings":"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","sources":["webpack:///./src/screens/containers/PartnerProgramsTab/components/BlockSkeleton.js","webpack:///./src/screens/containers/PartnerProgramsTab/components/ProgramBlock.js","webpack:///./src/screens/containers/PartnerProgramsTab/components/UrStaffScreen.js","webpack:///./src/screens/containers/PartnerProgramsTab/hooks/useUrstaffRegistration.js"],"sourcesContent":["import React, { memo } from \"react\";\nimport SkeletonPlaceholder from \"react-native-skeleton-placeholder\";\n\nconst BlockSkeleton = () => {\n  return (\n    <SkeletonPlaceholder>\n      <SkeletonPlaceholder.Item height={250} borderRadius={6} />\n    </SkeletonPlaceholder>\n  );\n};\n\nexport default memo(BlockSkeleton);\n","import { View, StyleSheet, TouchableOpacity, Text } from \"react-native\";\nimport ImageComponent from \"components/ImageComponent\";\nimport React from \"react\";\nimport { ZEPLIN_WIDTH_RATIO } from \"themes/Dimens\";\nimport { Colors } from \"themes\";\n\nconst ProgramBlock = ({ program }) => {\n  return program.featureEnable ? (\n    <TouchableOpacity\n      onPress={program.onPress}\n      handleConnection\n      style={styles.container}>\n      <ImageComponent\n        style={styles.banner}\n        source={program.banner}\n        resizeMode=\"cover\"\n      />\n      <View style={styles.contentContainer}>\n        <ImageComponent\n          style={styles.logo}\n          source={program.logo}\n          resizeMode=\"contain\"\n        />\n        <View style={styles.textContainer}>\n          <Text style={styles.brandName}>{program.brandName}</Text>\n          <Text style={styles.title}>{program.title}</Text>\n        </View>\n      </View>\n    </TouchableOpacity>\n  ) : null;\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    borderRadius: 6,\n    backgroundColor: \"#ffffff\",\n    marginBottom: 20,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 4,\n    elevation: 5,\n    borderColor: Colors.darkGrey\n  },\n  contentContainer: {\n    flexDirection: \"row\",\n    padding: 16,\n    alignItems: \"center\"\n  },\n  banner: {\n    height: 180 * ZEPLIN_WIDTH_RATIO,\n    borderTopLeftRadius: 6,\n    borderTopRightRadius: 6\n  },\n  logo: {\n    width: 60,\n    height: 60\n  },\n  textContainer: {\n    flex: 1,\n    marginLeft: 16\n  },\n  brandName: {\n    fontSize: 16,\n    fontWeight: \"700\",\n    marginBottom: 4\n  },\n  title: {\n    fontSize: 14\n  }\n});\n\nexport default ProgramBlock;\n","import React from \"react\";\nimport { View, Text, ScrollView, ActivityIndicator } from \"react-native\";\nimport FeatherIcon from \"react-native-vector-icons/Feather\";\nimport ImageComponent from \"components/ImageComponent\";\nimport Gap from \"components/Gap\";\nimport CommonInput from \"components/CommonInput\";\nimport { validateEmailString } from \"utils\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport I18n from \"translations\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\nimport { useUrstaffRegistration } from \"../hooks/useUrstaffRegistration\";\nimport { StyleSheet } from \"react-native\";\nimport { Colors, Metrics } from \"themes\";\nimport { deviceWidth, WIDTH_RATIO } from \"themes/Dimens\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport ProgramBlock from \"./ProgramBlock\";\nimport { get } from \"lodash\";\nimport BlockSkeleton from \"./BlockSkeleton\";\nimport images from \"themes/Images\";\n\nconst UrStaffEmailRegistrationScreen = () => {\n  const insets = useSafeAreaInsets();\n  const {\n    inputRef,\n    loading,\n    message,\n    email,\n    initLoading,\n    staffDetail,\n    onChangeText,\n    onSubmit,\n    onPressBanner\n  } = useUrstaffRegistration();\n\n  const navigation = useNavigation();\n\n  if (initLoading) {\n    return (\n      <View style={styles.pad16}>\n        <BlockSkeleton />\n      </View>\n    );\n  }\n\n  if (staffDetail) {\n    const logo = get(staffDetail, \"publisher.logo\");\n    return (\n      <View style={styles.pad16}>\n        <ProgramBlock\n          program={{\n            title: true ? \"Chương trình UrStaff.\" : \"Chương trình UrStaff.\",\n            logo: logo ? { uri: logo } : images.logoUrBox,\n            banner: {\n              uri:\n                get(staffDetail, \"card.cardTemplateImage\") ||\n                \"https://urbox-hcm-prod.sgp1.cdn.digitaloceanspaces.com/collection-banners/urstaff_banner-1656573933492.png\"\n            },\n            onPress: () => navigation.navigate(\"UrStaffOverviewScreen\"),\n            featureEnable: true,\n            brandName: get(staffDetail, \"campaign.title\")\n          }}\n        />\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      {/* <UrboxHeader\n        containerStyles={styles.header}\n        title={I18n.t(\"Login\")}\n        backOnPress={navigation.goBack}\n      /> */}\n      <ScrollView style={styles.body}>\n        <Gap.L />\n        <TouchableOpacity onPress={onPressBanner}>\n          <ImageComponent\n            source={{\n              uri: \"https://urbox-hcm-prod.sgp1.cdn.digitaloceanspaces.com/collection-banners/urstaff_banner-1656573933492.png\"\n            }}\n            style={styles.banner}\n          />\n        </TouchableOpacity>\n        <Gap.L />\n\n        <View style={styles.row}>\n          <FeatherIcon name=\"alert-circle\" color=\"#1074FF\" size={22} />\n          <Text style={styles.description}>{I18n.t(\"UrStaffEmailNote\")}</Text>\n        </View>\n        <Gap.L />\n        <CommonInput\n          ref={inputRef}\n          label=\"Email\"\n          autoCapitalize={\"none\"}\n          rules={[\n            {\n              validator: validateEmailString,\n              message: I18n.t(\"EcommerceAddressScreen.ErrorPhoneEmail\"),\n              // validateOnChange: true,\n              validateOnBlur: true\n            },\n            {\n              validator: (text) => text.length > 0,\n              message: I18n.t(\"RequireEmail\"),\n              // validateOnChange: true,\n              validateOnBlur: true\n            },\n            {\n              validator: () => !loading && !message,\n              message\n            }\n          ]}\n          placeholder={I18n.t(\"CompanyEmail\")}\n          value={email}\n          onChangeText={onChangeText}\n        />\n      </ScrollView>\n      <TouchableOpacity\n        onPress={onSubmit}\n        disabled={loading}\n        style={[\n          styles.footer,\n          { marginBottom: insets?.bottom + 6 },\n          !loading && { backgroundColor: Colors.primary }\n        ]}>\n        <Text style={styles.btnText}>\n          {loading && (\n            <ActivityIndicator\n              style={styles.marginRight}\n              color={Colors.white}\n            />\n          )}\n          {I18n.t(\"Confirm\")}\n        </Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst BANNER_WIDTH = deviceWidth - Metrics.baseListMarginHorizontal * 2;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    paddingTop: 24\n  },\n  header: {\n    height: 100,\n    alignItems: \"flex-start\"\n  },\n  body: {\n    backgroundColor: \"white\",\n    marginTop: -20,\n    borderTopLeftRadius: Metrics.baseBorderRadius * 2,\n    borderTopRightRadius: Metrics.baseBorderRadius * 2,\n    paddingHorizontal: Metrics.baseListMarginHorizontal\n  },\n  banner: {\n    width: BANNER_WIDTH,\n    height: BANNER_WIDTH / 2.22,\n    borderRadius: Metrics.baseBorderRadius\n  },\n  row: {\n    flexDirection: \"row\"\n  },\n  description: {\n    color: Colors.mediumGrey,\n    flex: 1,\n    fontSize: WIDTH_RATIO * 15,\n    marginLeft: 10,\n    fontWeight: \"400\"\n  },\n  footer: {\n    height: 46,\n    backgroundColor: Colors.gray,\n    marginHorizontal: Metrics.baseListMarginHorizontal,\n    borderRadius: Metrics.baseBorderRadius,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  btnText: {\n    color: Colors.white,\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  marginRight: {\n    marginRight: 16\n  },\n  pad16: { paddingHorizontal: 15 * WIDTH_RATIO, paddingVertical: 24 }\n});\n\nexport default UrStaffEmailRegistrationScreen;\n","import LinkingHelper from \"common/LinkingHelper\";\nimport {\n  StackActions,\n  useFocusEffect,\n  useIsFocused,\n  useNavigation\n} from \"@react-navigation/native\";\nimport { useCallback, useRef, useState } from \"react\";\nimport { checkEmailRegister } from \"store/urStaff/services\";\nimport { validateEmailString } from \"utils\";\nimport { getStaff } from \"store/urStaff/services\";\n\nexport const useUrstaffRegistration = () => {\n  const navigation = useNavigation();\n  // const dispatch = useDispatch();\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [initLoading, setInitLoading] = useState(true);\n  const [staffDetail, setStaffDetail] = useState();\n  const inputRef = useRef();\n\n  const isFocused = useIsFocused();\n\n  useFocusEffect(\n    useCallback(() => {\n      if (isFocused) {\n        getStaff().then((res) => {\n          setInitLoading(false);\n          if (res.OK) {\n            setStaffDetail(res);\n            return;\n          }\n        });\n      }\n    }, [isFocused])\n  );\n\n  const onPressBanner = () => {\n    try {\n      LinkingHelper.openURL(\"https://forms.urbox.vn/urstaff\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const onSubmit = () => {\n    if (email && validateEmailString(email)) {\n      setLoading(true);\n      checkEmailRegister(email).then((res) => {\n        setLoading(false);\n        if (res.OK) {\n          navigation.navigate(\"UrStaffAdvanceConfirmOTPScreen\", {\n            confirmRegister: true,\n            email,\n            userInfo: {\n              companyEmail: email\n            }\n          });\n          return;\n        }\n        setMessage(res.message);\n        inputRef.current.doValidate();\n      });\n    }\n  };\n\n  const onChangeText = (text) => {\n    setEmail(text);\n  };\n\n  return {\n    inputRef,\n    email,\n    loading,\n    message,\n    initLoading,\n    staffDetail,\n    onChangeText,\n    onSubmit,\n    onPressBanner\n  };\n};\n"],"names":["memo","Item","height","borderRadius","styles","StyleSheet","create","container","backgroundColor","marginBottom","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","elevation","borderColor","Colors","darkGrey","contentContainer","flexDirection","padding","alignItems","banner","ZEPLIN_WIDTH_RATIO","borderTopLeftRadius","borderTopRightRadius","logo","textContainer","flex","marginLeft","brandName","fontSize","fontWeight","title","program","featureEnable","TouchableOpacity","onPress","handleConnection","style","source","resizeMode","View","Text","BANNER_WIDTH","deviceWidth","Metrics","baseListMarginHorizontal","paddingTop","header","body","marginTop","baseBorderRadius","paddingHorizontal","row","description","color","mediumGrey","WIDTH_RATIO","footer","gray","marginHorizontal","justifyContent","btnText","white","marginRight","pad16","paddingVertical","insets","useSafeAreaInsets","useUrstaffRegistration","inputRef","loading","message","email","initLoading","staffDetail","onChangeText","onSubmit","onPressBanner","navigation","useNavigation","get","uri","images","logoUrBox","navigate","ScrollView","L","name","size","I18n","t","ref","label","autoCapitalize","rules","validator","validateEmailString","validateOnBlur","text","length","placeholder","value","disabled","bottom","primary","ActivityIndicator","useState","setEmail","setMessage","setLoading","setInitLoading","setStaffDetail","useRef","isFocused","useIsFocused","useFocusEffect","useCallback","getStaff","then","res","OK","checkEmailRegister","confirmRegister","userInfo","companyEmail","current","doValidate","LinkingHelper","openURL","error","console","log"],"sourceRoot":""}